{"version":3,"sources":["components/utils/validation.js","components/formControls/formControls.js","components/hoc/withAuthRedirect.jsx","components/users/user/icon.jpg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/profile/content.jpg","components/profile/MyPosts/MyPost/MyPost.jsx","components/profile/MyPosts/MyPosts.jsx","components/profile/profileUser/profileUser.jsx","components/profile/profile.jsx"],"names":["mustRequire","value","undefined","maxLengthCreator","max","length","withFormValidate","Tag","props","input","meta","touched","error","restProps","hasError","className","Input","mapStateToProps","isAuth","authReducer","withAuthRedirect","Wrapped","connect","to","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","MyPost","name","photo","src","alt","maxLength100","AddPostForm","onSubmit","handleSubmit","Field","type","placeholder","component","validate","reduxForm","form","MyPosts","this","posts","addPost","postItems","map","post","body","id","formData","newPost","Component","action","profileReducer","MyInfo","imgSmall","status","updateStatus","fullName","contactsList","StatusInfo","useState","setStatus","editMode","setEditMode","useEffect","onChange","e","target","onBlur","autoFocus","onDoubleClick","Profile","profile","photos","contacts","small","icon","entries","item","Bg","ProfileContainer","state","redirect","userId","loadedProfileThunk","getUserStatus","loggedId","setState","loading","actions","loadedProfile","changeLoadingStatus","compose","loadingReducer"],"mappings":"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","file":"static/js/5.5bfef849.chunk.js","sourcesContent":["const mustRequire = value => (value ? undefined : 'It is required');\r\n\r\nconst maxLengthCreator = max => value =>\r\n    (value && value.length > max ? `String must be less than ${max} symbols` : undefined)\r\n\r\n\r\nexport {\r\n    mustRequire,\r\n    maxLengthCreator,\r\n}","import React from \"react\";\r\nimport './formControls.scss'\r\n\r\nconst withFormValidate = (Tag) => (props) => {\r\n    const {input, meta: {touched, error}, ...restProps} = props;\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={hasError ? '_validate_error' : \"\"}>\r\n            <Tag {...input} {...restProps}/>\r\n            {hasError ? <span className='_error'>{error}</span> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Input = withFormValidate('input');\r\nconst Textarea = withFormValidate('textarea');\r\n\r\nexport {\r\n    Input,\r\n    Textarea\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst mapStateToProps = ({authReducer: {isAuth}}) => ({\r\n    isAuth\r\n})\r\n\r\nconst withAuthRedirect = (Wrapped) => {\r\n    const withRedirect = (props) => {\r\n\r\n        if (!props.isAuth) return <Redirect to='/login'/>\r\n\r\n        return (\r\n            <Wrapped {...props}/>\r\n        )\r\n    }\r\n\r\n    return connect(mapStateToProps)(withRedirect)\r\n}\r\n\r\n\r\nexport default withAuthRedirect;","export default __webpack_public_path__ + \"static/media/icon.292c8c39.jpg\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default __webpack_public_path__ + \"static/media/content.34623f13.jpg\";","import React from 'react';\r\nimport './MyPost.scss'\r\n\r\nconst MyPost = (props) => {\r\n\r\n    const {name, photo} = props;\r\n\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"post__icon\"><img src={photo} alt=\"\"/></div>\r\n            <div className=\"post__name\">{name}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPost;","import React, {Component} from 'react';\r\nimport MyPost from \"./MyPost/MyPost\";\r\n\r\nimport './MyPosts.scss'\r\nimport {connect} from \"react-redux\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, mustRequire} from \"../../utils/validation\";\r\nimport {Input} from \"../../formControls/formControls\";\r\nimport {addPost} from \"../../../redux/reducers/profileReducer\";\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nlet AddPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className=\"posts__form\">\r\n            <Field name={'newPost'}\r\n                   type=\"text\"\r\n                   placeholder=\"Your news...\"\r\n                   className=\"posts__input\"\r\n                   component={Input}\r\n                   validate={[mustRequire, maxLength100]}\r\n            />\r\n            <button className=\"posts__btn\">Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nAddPostForm = reduxForm({form: 'postForm'})(AddPostForm);\r\n\r\nclass MyPosts extends Component {\r\n    render() {\r\n\r\n        let {posts, addPost, photo} = this.props;\r\n        const addMessage = (formData) => {\r\n            addPost(formData.newPost)\r\n        }\r\n\r\n        const postItems = posts.map(post => {\r\n            return (\r\n                <MyPost key={post.id} name={post.body} photo={photo}/>\r\n            )\r\n        })\r\n\r\n        return (\r\n            <div className=\"posts\">\r\n                <div className=\"posts__title\">My posts</div>\r\n                <AddPostForm onSubmit={addMessage}/>\r\n                <div className=\"posts__items\">\r\n                    {postItems}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = ({profileReducer: {posts}}) => ({posts});\r\nconst action = {\r\n    addPost,\r\n}\r\n\r\nexport default connect(mapStateToProps, action)(MyPosts);","import React, {useEffect, useState} from \"react\";\r\n\r\nimport icon from \"../../users/user/icon.jpg\";\r\nimport Bg from \"../content.jpg\";\r\nimport MyPosts from \"../MyPosts/MyPosts\";\r\n\r\nconst Profile = ({status, updateStatus, profile: {fullName, photos, contacts}}) => {\r\n    const imgSmall = photos ? (photos.small ? photos.small : icon) : icon;\r\n    const contactsList = contacts ? Object.entries(contacts).map((item, i) => {\r\n        if (item[1]) {\r\n            return <li key={i} className=\"profile__user-list-item\">{item[0]}: {item[1]}</li>\r\n        }\r\n    }) : null;\r\n\r\n    return (\r\n        <div className=\"profile\">\r\n            <div className=\"profile__img-wrapper\"><img className=\"profile__img\" src={Bg} alt=\"\"/></div>\r\n            <MyInfo fullName={fullName} contactsList={contactsList} imgSmall={imgSmall} status={status}\r\n                    updateStatus={updateStatus}/>\r\n            <MyPosts photo={imgSmall}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst MyInfo = ({imgSmall, status, updateStatus, fullName, contactsList}) => {\r\n    return (\r\n        <div className=\"profile__user\">\r\n            <div className=\"profile__user-img\"><img src={imgSmall} alt=\"\"/></div>\r\n            <div className=\"profile__user-info\">\r\n                <div className=\"profile__user-name\">{fullName}</div>\r\n                <StatusInfo status={status || 'Some Status'} updateStatus={updateStatus}/>\r\n                <ul className=\"profile__user-list\">\r\n                    {contactsList}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst StatusInfo = (props) => {\r\n    const [status, setStatus] = useState(props.status);\r\n    const [editMode, setEditMode] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const onChangeStatus = (e) => {\r\n        setStatus(e.target.value)\r\n    }\r\n\r\n    const EnabledEdit = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const DisableEdit = () => {\r\n        setEditMode(false)\r\n        // props.updateStatus(status);\r\n    }\r\n\r\n    return (\r\n        <div className='user-status'>\r\n            {!editMode ?\r\n                <div className='user-status__span'>\r\n                    <span onDoubleClick={EnabledEdit}>{props.status}</span>\r\n                </div>\r\n                :\r\n                <div className='user-status__input'>\r\n                    <input onChange={onChangeStatus} onBlur={DisableEdit} autoFocus={true} value={status}/>\r\n                </div>\r\n            }\r\n            {/*<button  className=\"user-status__edit\">Click to edit</button>*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n","import React, {Component} from 'react';\r\nimport './profile.scss'\r\nimport {connect} from \"react-redux\";\r\nimport Spinner from \"../spinner/spinner\";\r\nimport {compose} from \"redux\";\r\nimport Profile from \"./profileUser/profileUser\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport withAuthRedirect from \"../hoc/withAuthRedirect\";\r\nimport {getUserStatus, loadedProfile, loadedProfileThunk, updateStatus} from \"../../redux/reducers/profileReducer\";\r\nimport {changeLoadingStatus} from \"../../redux/reducers/loadingReducer\";\r\n\r\n\r\nclass ProfileContainer extends Component {\r\n    state = {\r\n        redirect: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        let {userId, loadedProfileThunk, getUserStatus, loggedId} = this.props;\r\n        if (!userId) {\r\n            userId = loggedId;\r\n            if (!userId) {\r\n                this.setState({\r\n                    redirect: true\r\n                })\r\n            }\r\n        }\r\n        loadedProfileThunk(userId)\r\n        getUserStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        const {loading, profile, status, updateStatus} = this.props;\r\n        const {redirect} = this.state;\r\n\r\n        if (redirect) return <Redirect to='/login'/>\r\n\r\n        if (loading) {\r\n            return <Spinner/>\r\n        }\r\n\r\n        return (\r\n            <Profile profile={profile} status={status} updateStatus={updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({profileReducer: {profile, posts, newPost, status}, authReducer: {id}, loadingReducer: {loading}}) => ({\r\n    profile,\r\n    posts,\r\n    newPost,\r\n    loading,\r\n    status,\r\n    loggedId: id,\r\n})\r\n\r\nconst actions = {\r\n    loadedProfile,\r\n    changeLoadingStatus,\r\n    loadedProfileThunk,\r\n    getUserStatus,\r\n    updateStatus\r\n}\r\n\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, actions)\r\n)(ProfileContainer);"],"sourceRoot":""}