(this.webpackJsonpsocial_network_app=this.webpackJsonpsocial_network_app||[]).push([[5],{222:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return a}));var n=function(t){return t?void 0:"It is required"},a=function(t){return function(e){return e&&e.length>t?"String must be less than ".concat(t," symbols"):void 0}}},223:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var n=s(3),a=s(226),r=(s(0),s(224),s(2)),c=["input","meta"],i=function(t){return function(e){var s=e.input,i=e.meta,o=i.touched,u=i.error,l=Object(a.a)(e,c),d=o&&u;return Object(r.jsxs)("div",{className:d?"_validate_error":"",children:[Object(r.jsx)(t,Object(n.a)(Object(n.a)({},s),l)),d?Object(r.jsx)("span",{className:"_error",children:u}):null]})}},o=i("input");i("textarea")},224:function(t,e,s){},232:function(t,e,s){"use strict";var n=s(3),a=(s(0),s(22)),r=s(6),c=s(2),i=function(t){return{isAuth:t.authReducer.isAuth}};e.a=function(t){return Object(a.b)(i)((function(e){return e.isAuth?Object(c.jsx)(t,Object(n.a)({},e)):Object(c.jsx)(r.a,{to:"/login"})}))}},233:function(t,e,s){"use strict";e.a=s.p+"static/media/icon.292c8c39.jpg"},234:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var n=s(57);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],n=!0,a=!1,r=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(s.push(c.value),!e||s.length!==e);n=!0);}catch(o){a=!0,r=o}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return s}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},293:function(t,e,s){},294:function(t,e,s){},295:function(t,e,s){},301:function(t,e,s){"use strict";s.r(e);var n=s(27),a=s(28),r=s(30),c=s(29),i=s(0),o=(s(293),s(22)),u=s(52),l=s(18),d=s(234),j=s(233),p=s.p+"static/media/content.34623f13.jpg",b=(s(294),s(2)),f=function(t){var e=t.name,s=t.photo;return Object(b.jsxs)("div",{className:"post",children:[Object(b.jsx)("div",{className:"post__icon",children:Object(b.jsx)("img",{src:s,alt:""})}),Object(b.jsx)("div",{className:"post__name",children:e})]})},m=(s(295),s(103)),O=s(104),h=s(222),v=s(223),x=s(58),_=Object(h.a)(100),g=function(t){return Object(b.jsxs)("form",{onSubmit:t.handleSubmit,className:"posts__form",children:[Object(b.jsx)(m.a,{name:"newPost",type:"text",placeholder:"Your news...",className:"posts__input",component:v.a,validate:[h.b,_]}),Object(b.jsx)("button",{className:"posts__btn",children:"Send"})]})};g=Object(O.a)({form:"postForm"})(g);var N=function(t){Object(r.a)(s,t);var e=Object(c.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){var t=this.props,e=t.posts,s=t.addPost,n=t.photo,a=e.map((function(t){return Object(b.jsx)(f,{name:t.body,photo:n},t.id)}));return Object(b.jsxs)("div",{className:"posts",children:[Object(b.jsx)("div",{className:"posts__title",children:"My posts"}),Object(b.jsx)(g,{onSubmit:function(t){s(t.newPost)}}),Object(b.jsx)("div",{className:"posts__items",children:a})]})}}]),s}(i.Component),S={addPost:x.a},y=Object(o.b)((function(t){return{posts:t.profileReducer.posts}}),S)(N),w=function(t){var e=t.imgSmall,s=t.status,n=t.updateStatus,a=t.fullName,r=t.contactsList;return Object(b.jsxs)("div",{className:"profile__user",children:[Object(b.jsx)("div",{className:"profile__user-img",children:Object(b.jsx)("img",{src:e,alt:""})}),Object(b.jsxs)("div",{className:"profile__user-info",children:[Object(b.jsx)("div",{className:"profile__user-name",children:a}),Object(b.jsx)(k,{status:s||"Some Status",updateStatus:n}),Object(b.jsx)("ul",{className:"profile__user-list",children:r})]})]})},k=function(t){var e=Object(i.useState)(t.status),s=Object(d.a)(e,2),n=s[0],a=s[1],r=Object(i.useState)(!1),c=Object(d.a)(r,2),o=c[0],u=c[1];Object(i.useEffect)((function(){a(t.status)}),[t.status]);return Object(b.jsx)("div",{className:"user-status",children:o?Object(b.jsx)("div",{className:"user-status__input",children:Object(b.jsx)("input",{onChange:function(t){a(t.target.value)},onBlur:function(){u(!1)},autoFocus:!0,value:n})}):Object(b.jsx)("div",{className:"user-status__span",children:Object(b.jsx)("span",{onDoubleClick:function(){u(!0)},children:t.status})})})},P=function(t){var e=t.status,s=t.updateStatus,n=t.profile,a=n.fullName,r=n.photos,c=n.contacts,i=r&&r.small?r.small:j.a,o=c?Object.entries(c).map((function(t,e){if(t[1])return Object(b.jsxs)("li",{className:"profile__user-list-item",children:[t[0],": ",t[1]]},e)})):null;return Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsx)("div",{className:"profile__img-wrapper",children:Object(b.jsx)("img",{className:"profile__img",src:p,alt:""})}),Object(b.jsx)(w,{fullName:a,contactsList:o,imgSmall:i,status:e,updateStatus:s}),Object(b.jsx)(y,{photo:i})]})},A=s(6),I=s(232),R=s(20),C=function(t){Object(r.a)(s,t);var e=Object(c.a)(s);function s(){var t;Object(n.a)(this,s);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={redirect:!1},t}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this.props,e=t.userId,s=t.loadedProfileThunk,n=t.getUserStatus,a=t.loggedId;e||(e=a)||this.setState({redirect:!0}),s(e),n(e)}},{key:"render",value:function(){var t=this.props,e=t.loading,s=t.profile,n=t.status,a=t.updateStatus;return this.state.redirect?Object(b.jsx)(A.a,{to:"/login"}):e?Object(b.jsx)(u.a,{}):Object(b.jsx)(P,{profile:s,status:n,updateStatus:a})}}]),s}(i.Component),L={loadedProfile:x.d,changeLoadingStatus:R.a,loadedProfileThunk:x.e,getUserStatus:x.c,updateStatus:x.f};e.default=Object(l.d)(I.a,Object(o.b)((function(t){var e=t.profileReducer,s=e.profile,n=e.posts,a=e.newPost,r=e.status,c=t.authReducer.id;return{profile:s,posts:n,newPost:a,loading:t.loadingReducer.loading,status:r,loggedId:c}}),L))(C)}}]);
//# sourceMappingURL=5.5bfef849.chunk.js.map