(this.webpackJsonpsocial_network_app=this.webpackJsonpsocial_network_app||[]).push([[6],{226:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n.d(t,"a",(function(){return r}))},233:function(e,t,n){"use strict";t.a=n.p+"static/media/icon.292c8c39.jpg"},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(57);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,s=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(i){s=!0,o=i}finally{try{r||null==u.return||u.return()}finally{if(s)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},296:function(e,t,n){},297:function(e,t,n){},302:function(e,t,n){"use strict";n.r(t);var r=n(234),s=n(226),o=n(27),a=n(28),u=n(30),i=n(29),c=n(0),l=n(22),d=(n(296),n(233)),f=(n(297),n(10)),b=n(2),g=function(e){var t=e.id,n=e.toggleFollowThunk,r=e.disabledUsers,s=e.userInfo,o=s.name,a=s.status,u=s.photos,i=s.followed,c=e.me,l=u&&u.small?u.small:d.a;return Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)(f.b,{to:"/profile/".concat(t),children:Object(b.jsx)("img",{src:l,alt:o,className:"user__avatar"})}),Object(b.jsxs)("div",{className:"user__wrapper",children:[Object(b.jsxs)("div",{className:"user__info",children:[Object(b.jsx)("div",{className:"user__name",children:o}),Object(b.jsx)("div",{className:"user__status",children:a||"It's some default status..."})]}),Object(b.jsxs)("div",{className:"user__location",children:[Object(b.jsx)("span",{children:"Good country"}),Object(b.jsx)("span",{children:"Cool city"})]})]}),c?"<= It's your profile)":Object(b.jsx)("button",{disabled:r.some((function(e){return e===t})),onClick:function(){return n(i,t)},className:"user__follow-btn",children:r.some((function(e){return e===t}))?"Wait a second":i?"UnFollow":"Follow"})]})},j=n(73),p=n(20),h=n(52),m=function(e){return e.usersReducer.users},v=function(e){return e.usersReducer.pageSize},O=function(e){return e.usersReducer.totalCount},_=function(e){return e.usersReducer.currentPage},y=function(e){return e.usersReducer.isFetching},x=function(e){return e.usersReducer.disabledUsers},w=function(e){return e.loadingReducer.loading},C=function(e){return e.authReducer.id},k=["id"],S=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).renderUsers=function(t){var n=e.props,r=n.toggleFollowConfirm,o=n.myId,a=n.toggleDisable,u=n.isFetching,i=n.disabledUsers,c=n.toggleFollowThunk;return t.map((function(e){var t=e.id,n=Object(s.a)(e,k),l=t===o;return Object(b.jsx)(g,{id:t,userInfo:n,toggleFollowConfirm:function(){return r(t)},toggleDisabled:a,disable:u,disabledUsers:i,toggleFollowThunk:c,me:l},t)}))},e.paginationRequest=function(t){var n=e.props,r=n.setCurrentPage,s=n.currentPage,o=n.pageSize,a=n.getUsersThunk;t!==s&&(r(t),a(t,o))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getUsersThunk,n=e.pageSize;t(e.currentPage,n)}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.currentPage,r=e.loading,s=e.pageSize,o=e.totalCount,a=this.renderUsers(t);return Object(b.jsx)(P,{users:a,paginationRequest:this.paginationRequest,loading:r,pageSize:s,totalCount:o,currentPage:n})}}]),n}(c.Component),N=function(e){var t=e.pageSize,n=e.totalCount,s=e.currentPage,o=e.paginationRequest,a=e.portionCount,u=void 0===a?10:a,i=Math.floor(n/t),l=Object(c.useState)(5),d=Object(r.a)(l,2),f=d[0],g=d[1],j=(f-1)*u+1,p=f*u;return Object(b.jsxs)("div",{children:[f>1&&Object(b.jsx)("button",{className:"users__btn-prev",onClick:function(){return g(f-1)},children:"Prev"}),function(){for(var e=[],t=1;t<i;t++)e.push(t);return e}().filter((function(e){return e>=j&&e<=p})).map((function(e){var t=e===s?"active":"";return Object(b.jsx)("button",{className:"users__pag-btn ".concat(t),onClick:function(){return o(e)},children:e},e)})),f+1<i/10&&Object(b.jsx)("button",{className:"users__btn-next",onClick:function(){return g(f+1)},children:"Next"})]})},P=function(e){var t=e.users,n=e.loading,r=e.pageSize,s=e.totalCount,o=e.currentPage,a=e.paginationRequest;return Object(b.jsxs)("div",{className:"users",children:[Object(b.jsx)("div",{className:"users__title",children:"Users"}),Object(b.jsx)("div",{className:"users__pagination",children:Object(b.jsx)(N,{pageSize:r,totalCount:s,currentPage:o,paginationRequest:a})}),Object(b.jsx)("div",{className:"users__items",children:n?Object(b.jsx)(h.a,{}):t})]})},R={setUsers:j.e,toggleFollowConfirm:j.g,setTotalCount:j.d,setCurrentPage:j.c,changeLoadingStatus:p.a,toggleDisable:j.f,getUsersThunk:j.b,toggleFollowThunk:j.h};t.default=Object(l.b)((function(e){return{users:m(e),isFetching:y(e),pageSize:v(e),totalCount:O(e),currentPage:_(e),loading:w(e),disabledUsers:x(e),myId:C(e)}}),R)(S)}}]);
//# sourceMappingURL=6.36951dbd.chunk.js.map