{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/users/user/icon.jpg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/users/user/user.jsx","redux/selectors/userSelectors.js","components/users/users.jsx"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","unsupportedIterableToArray","TypeError","User","id","toggleFollowThunk","disabledUsers","userInfo","name","status","photos","followed","me","imgSmall","small","icon","className","to","src","alt","disabled","some","user","onClick","getUsers","state","usersReducer","users","getPageSize","pageSize","getTotalCount","totalCount","getCurrentPage","currentPage","getIsFetching","isFetching","getDisabledUsers","getLoading","loadingReducer","loading","getId","authReducer","UsersContainer","renderUsers","props","toggleFollowConfirm","myId","toggleDisable","map","toggleDisabled","disable","paginationRequest","pageNumber","setCurrentPage","getUsersThunk","this","userItems","Component","Paginator","portionCount","pageCount","Math","floor","useState","portionNumber","setPortionNumber","LeftBorder","RightBorder","startingAction","filter","item","activeClass","Users","actions","setUsers","setTotalCount","changeLoadingStatus","connect"],"mappings":"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","file":"static/js/6.36951dbd.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default __webpack_public_path__ + \"static/media/icon.292c8c39.jpg\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\r\nimport icon from './icon.jpg'\r\nimport './user.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({id, toggleFollowThunk, disabledUsers, userInfo: {name, status, photos, followed}, me}) => {\r\n    const imgSmall = photos ? (photos.small ? photos.small : icon) : icon;\r\n\r\n    return (\r\n        <div className=\"user\">\r\n            <NavLink to={`/profile/${id}`}>\r\n                <img src={imgSmall} alt={name} className=\"user__avatar\"/>\r\n            </NavLink>\r\n            <div className=\"user__wrapper\">\r\n                <div className=\"user__info\">\r\n                    <div className=\"user__name\">{name}</div>\r\n                    <div className=\"user__status\">{status ? status : 'It\\'s some default status...'}</div>\r\n                </div>\r\n                <div className=\"user__location\">\r\n                    <span>Good country</span>\r\n                    <span>Cool city</span>\r\n                </div>\r\n            </div>\r\n            {me ? '<= It\\'s your profile)' :\r\n                <button disabled={disabledUsers.some(user => user === id)}\r\n                        onClick={() => toggleFollowThunk(followed, id)}\r\n                        className=\"user__follow-btn\">\r\n                    {disabledUsers.some(user => user === id) ? 'Wait a second' : (followed ? \"UnFollow\" : \"Follow\")}\r\n                </button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","export const getUsers = (state) => {\r\n    return state.usersReducer.users;\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersReducer.pageSize;\r\n}\r\nexport const getTotalCount = (state) => {\r\n    return state.usersReducer.totalCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersReducer.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersReducer.isFetching;\r\n}\r\nexport const getDisabledUsers = (state) => {\r\n    return state.usersReducer.disabledUsers;\r\n}\r\nexport const getLoading = (state) => {\r\n    return state.loadingReducer.loading;\r\n}\r\nexport const getId = (state) => {\r\n    return state.authReducer.id;\r\n}\r\n","import React, {Component, useState} from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport './users.scss'\r\nimport User from \"./user/user\";\r\nimport {\r\n    getUsersThunk,\r\n    setCurrentPage,\r\n    setTotalCount,\r\n    setUsers,\r\n    toggleDisable,\r\n    toggleFollowConfirm,\r\n    toggleFollowThunk\r\n} from \"../../redux/reducers/usersReducer\";\r\nimport {changeLoadingStatus} from '../../redux/reducers/loadingReducer'\r\nimport Spinner from \"../spinner/spinner\";\r\nimport {\r\n    getCurrentPage,\r\n    getDisabledUsers,\r\n    getId,\r\n    getIsFetching,\r\n    getLoading,\r\n    getPageSize,\r\n    getTotalCount,\r\n    getUsers\r\n} from \"../../redux/selectors/userSelectors\";\r\n\r\nclass UsersContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        const {getUsersThunk, pageSize, currentPage} = this.props;\r\n        getUsersThunk(currentPage, pageSize);\r\n    }\r\n\r\n    renderUsers = (arr) => {\r\n        const {toggleFollowConfirm, myId, toggleDisable, isFetching, disabledUsers, toggleFollowThunk} = this.props;\r\n        return arr.map(user => {\r\n            const {id, ...userInfo} = user;\r\n            const me = id === myId;\r\n            return (\r\n                <User key={id}\r\n                      id={id}\r\n                      userInfo={userInfo}\r\n                      toggleFollowConfirm={() => toggleFollowConfirm(id)}\r\n                      toggleDisabled={toggleDisable}\r\n                      disable={isFetching}\r\n                      disabledUsers={disabledUsers}\r\n                      toggleFollowThunk={toggleFollowThunk}\r\n                      me={me}\r\n                />\r\n            )\r\n        })\r\n    }\r\n\r\n    paginationRequest = (pageNumber) => {\r\n        const {setCurrentPage, currentPage, pageSize, getUsersThunk} = this.props;\r\n\r\n        if (pageNumber !== currentPage) {\r\n            setCurrentPage(pageNumber);\r\n            getUsersThunk(pageNumber, pageSize)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {users, currentPage, loading, pageSize, totalCount} = this.props;\r\n        const userItems = this.renderUsers(users);\r\n\r\n        return (\r\n            <Users users={userItems}\r\n                   paginationRequest={this.paginationRequest}\r\n                   loading={loading}\r\n                   pageSize={pageSize}\r\n                   totalCount={totalCount}\r\n                   currentPage={currentPage}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst Paginator = ({pageSize, totalCount, currentPage, paginationRequest, portionCount = 10}) => {\r\n    const pageCount = Math.floor(totalCount / pageSize);\r\n    const startingAction = () => {\r\n        const arr = [];\r\n        for (let i = 1; i < pageCount; i++) {\r\n            arr.push(i)\r\n        }\r\n        return arr\r\n    }\r\n\r\n    const [portionNumber, setPortionNumber] = useState(5);\r\n    let LeftBorder = (portionNumber - 1) * portionCount + 1;\r\n    let RightBorder = portionNumber * portionCount;\r\n\r\n    return (\r\n        <div>\r\n            {portionNumber > 1 &&\r\n                <button className='users__btn-prev' onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button>}\r\n            {\r\n                startingAction()\r\n                    .filter(item => item >= LeftBorder && item <= RightBorder)\r\n                    .map(item => {\r\n                        const activeClass = item === currentPage ? 'active' : '';\r\n                        return <button\r\n                            key={item}\r\n                            className={`users__pag-btn ${activeClass}`}\r\n                            onClick={() => paginationRequest(item)}\r\n                        >{item}</button>\r\n                    })\r\n            }\r\n            {(portionNumber + 1) < (pageCount / 10) &&\r\n                <button className='users__btn-next' onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst Users = ({users, loading, pageSize, totalCount, currentPage, paginationRequest}) => {\r\n    return (\r\n        <div className=\"users\">\r\n            <div className=\"users__title\">Users</div>\r\n            <div className=\"users__pagination\">\r\n                <Paginator pageSize={pageSize} totalCount={totalCount} currentPage={currentPage}\r\n                           paginationRequest={paginationRequest}/>\r\n            </div>\r\n            <div className=\"users__items\">\r\n                {loading ? <Spinner/> : users}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        isFetching: getIsFetching(state),\r\n        pageSize: getPageSize(state),\r\n        totalCount: getTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        loading: getLoading(state),\r\n        disabledUsers: getDisabledUsers(state),\r\n        myId: getId(state)\r\n    }\r\n}\r\n\r\nconst actions = {\r\n    setUsers,\r\n    toggleFollowConfirm,\r\n    setTotalCount,\r\n    setCurrentPage,\r\n    changeLoadingStatus,\r\n    toggleDisable,\r\n    getUsersThunk,\r\n    toggleFollowThunk,\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, actions)(UsersContainer);"],"sourceRoot":""}